{% extends 'polls/layout.html' %}

{% block styles %}
<link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css">
<script src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script>
{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2>–°–ø–∏—Å–æ–∫ –∏–≥—Ä</h2>

  <table
    id="gameTable"
    class="table table-striped"
    data-toggle="table"
    data-search="true"
    data-search-placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..."
    data-pagination="true"
    data-page-size="10"
    data-page-list="[10, 20, 50, 100]"
    data-sort-name="name"
    data-sort-order="asc"
  >
    <thead>
      <tr>
        <th data-field="logo" data-sortable="false">–õ–æ–≥–æ</th>
        <th data-field="name" data-sortable="true">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
        <th data-field="status" data-sortable="true">–°—Ç–∞—Ç—É—Å</th>
        <th data-field="actions" data-sortable="false">–î–µ–π—Å—Ç–≤–∏—è</th>
      </tr>
    </thead>
    <tbody>
      {% for game in games %}
      <tr>
        <td>
          {% if game.logo_url %}
            <img src="{{ game.logo_url }}" style="max-width:60px">
          {% endif %}
        </td>
        <td><a href="{{ game.alt_url }}" target="_blank">{{ game.name }}</a></td>
        <td>
          {% if game.completed %}
            ‚úÖ –ü—Ä–æ–π–¥–µ–Ω–∞
          {% else %}
            ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ
          {% endif %}
        </td>
        <td>
          <a href="{% url 'game_edit' game.id %}" class="btn btn-info btn-sm">‚úèÔ∏è</a>
          <a href="/" class="btn {% if game.completed %}btn-light{% else %}btn-success{% endif %} btn-sm" {% if game.completed %}disabled{% endif %}>‚úÖ –ü—Ä–æ–π–¥–µ–Ω–∞</a>
          <button class="btn btn-danger btn-sm delete-btn"
                  data-toggle="modal"
                  data-target="#deleteModal"
                  data-game-id="{{ game.id }}">üóë –£–¥–∞–ª–∏—Ç—å</button>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
