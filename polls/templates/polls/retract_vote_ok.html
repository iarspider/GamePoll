{% extends "polls/generic_message.html" %}
{% block title %}Голос отменён{% endblock %}
{% block icon %}ℹ{% endblock %}
{% block icon_color %}#4CAF50{% endblock %}
{% block message %}Ваше участие в голосовании &laquo;{{ poll.title }}&raquo; отменено. Вы будете перенаправлены через <span id="timer">5</span> секунд.{% endblock %}
{% block buttons %}
  <a href="{% url 'vote_add' poll.id %}" class="btn btn-primary">Голосовать</a>
  <a href="{% url 'poll_list' %}" class="btn btn-secondary">К списку голосований</a>
{% endblock %}
{% block scripts %}
<script>
document.addEventListener("DOMContentLoaded", function () {
  let seconds = 5;
  const timer = document.getElementById("timer");
  const interval = setInterval(() => {
    timer.textContent = seconds.toString();
    seconds--;
    if (seconds < 0) {
      clearInterval(interval);
      window.location.href = "{% url 'vote_add' poll.id %}";
    }
  }, 1000);
});
</script>
{% endblock %}
